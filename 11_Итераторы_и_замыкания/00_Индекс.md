# üîÑ –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã –∏ –ó–∞–º—ã–∫–∞–Ω–∏—è

## üìã –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ —Ä–∞–∑–¥–µ–ª–∞

### [[11_–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã_–∏_–∑–∞–º—ã–∫–∞–Ω–∏—è/01_–ó–∞–º—ã–∫–∞–Ω–∏—è|üîê –ó–∞–º—ã–∫–∞–Ω–∏—è (Closures)]]
- –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∑–∞–º—ã–∫–∞–Ω–∏–π
- –ó–∞—Ö–≤–∞—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
- –¢–∏–ø—ã Fn, FnMut, FnOnce

### [[11_–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã_–∏_–∑–∞–º—ã–∫–∞–Ω–∏—è/02_–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã|üîÑ –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã]]
- –¢—Ä–µ–π—Ç Iterator
- –ú–µ—Ç–æ–¥—ã –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã—Ö –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤

### [[11_–ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã_–∏_–∑–∞–º—ã–∫–∞–Ω–∏—è/03_–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π_—Å—Ç–∏–ª—å|üéØ –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å]]
- –¶–µ–ø–æ—á–∫–∏ –º–µ—Ç–æ–¥–æ–≤
- –õ–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
- –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å —Ü–∏–∫–ª–∞–º–∏

## üîê –ó–∞–º—ã–∫–∞–Ω–∏—è (Closures)

### –°–∏–Ω—Ç–∞–∫—Å–∏—Å –∑–∞–º—ã–∫–∞–Ω–∏–π
```rust
// –ü–æ–ª–Ω—ã–π —Å–∏–Ω—Ç–∞–∫—Å–∏—Å
let –∑–∞–º—ã–∫–∞–Ω–∏–µ = |x: i32| -> i32 { x + 1 };

// –í—ã–≤–æ–¥ —Ç–∏–ø–æ–≤
let –∑–∞–º—ã–∫–∞–Ω–∏–µ = |x| x + 1;

// –ë–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
let –∑–∞–º—ã–∫–∞–Ω–∏–µ = || println!("–ü—Ä–∏–≤–µ—Ç!");

// –ú–Ω–æ–≥–æ—Å—Ç—Ä–æ—á–Ω–æ–µ –∑–∞–º—ã–∫–∞–Ω–∏–µ
let –∑–∞–º—ã–∫–∞–Ω–∏–µ = |x| {
    let —Ä–µ–∑—É–ª—å—Ç–∞—Ç = x * 2;
    —Ä–µ–∑—É–ª—å—Ç–∞—Ç + 1
};
```

### –ó–∞—Ö–≤–∞—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
```rust
fn main() {
    let x = 4;
    
    // –ó–∞—Ö–≤–∞—Ç –ø–æ –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ–π —Å—Å—ã–ª–∫–µ
    let —Ä–∞–≤–Ω–æ_x = |z| z == x;
    
    let y = 4;
    assert!(—Ä–∞–≤–Ω–æ_x(y));
    
    // –ó–∞—Ö–≤–∞—Ç –ø–æ –∏–∑–º–µ–Ω—è–µ–º–æ–π —Å—Å—ã–ª–∫–µ
    let mut x = 5;
    let mut –¥–æ–±–∞–≤–∏—Ç—å_–∫_x = |y| x += y;
    
    –¥–æ–±–∞–≤–∏—Ç—å_–∫_x(3);
    assert_eq!(x, 8);
    
    // –ó–∞—Ö–≤–∞—Ç –ø–æ –∑–Ω–∞—á–µ–Ω–∏—é (move)
    let x = vec![1, 2, 3];
    let —Ä–∞–≤–Ω–æ_x = move |z| z == x;
    
    // println!("{:?}", x); // –û—à–∏–±–∫–∞! x –ø–µ—Ä–µ–º–µ—â—ë–Ω
}
```

### –¢–∏–ø—ã –∑–∞–º—ã–∫–∞–Ω–∏–π
```rust
// FnOnce - –∑–∞–±–∏—Ä–∞–µ—Ç –≤–ª–∞–¥–µ–Ω–∏–µ, –º–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –æ–¥–∏–Ω —Ä–∞–∑
fn –ø—Ä–∏–º–µ–Ω–∏—Ç—å_–æ–¥–∏–Ω_—Ä–∞–∑<F>(f: F)
where
    F: FnOnce(),
{
    f();
}

// FnMut - –∏–∑–º–µ–Ω—è–µ–º–æ–µ –∑–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–∏–µ
fn –ø—Ä–∏–º–µ–Ω–∏—Ç—å_–º—É—Ç<F>(mut f: F)
where
    F: FnMut(),
{
    f();
}

// Fn - –Ω–µ–∏–∑–º–µ–Ω—è–µ–º–æ–µ –∑–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–∏–µ
fn –ø—Ä–∏–º–µ–Ω–∏—Ç—å<F>(f: F)
where
    F: Fn(),
{
    f();
    f(); // –ú–æ–∂–Ω–æ –≤—ã–∑–≤–∞—Ç—å –º–Ω–æ–≥–æ–∫—Ä–∞—Ç–Ω–æ
}
```

### –ó–∞–º—ã–∫–∞–Ω–∏—è –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è
```rust
// –ó–∞–º—ã–∫–∞–Ω–∏–µ –∫–∞–∫ –ø–∞—Ä–∞–º–µ—Ç—Ä
fn –≤—ã–ø–æ–ª–Ω–∏—Ç—å_–¥–≤–∞–∂–¥—ã<F>(f: F)
where
    F: Fn() -> i32,
{
    let —Ä–µ–∑—É–ª—å—Ç–∞—Ç1 = f();
    let —Ä–µ–∑—É–ª—å—Ç–∞—Ç2 = f();
    println!("–†–µ–∑—É–ª—å—Ç–∞—Ç—ã: {} –∏ {}", —Ä–µ–∑—É–ª—å—Ç–∞—Ç1, —Ä–µ–∑—É–ª—å—Ç–∞—Ç2);
}

// –í–æ–∑–≤—Ä–∞—Ç –∑–∞–º—ã–∫–∞–Ω–∏—è
fn —Å–æ–∑–¥–∞—Ç—å_—Å—É–º–º–∞—Ç–æ—Ä(x: i32) -> impl Fn(i32) -> i32 {
    move |y| x + y
}

fn main() {
    let –¥–æ–±–∞–≤–∏—Ç—å_5 = —Å–æ–∑–¥–∞—Ç—å_—Å—É–º–º–∞—Ç–æ—Ä(5);
    println!("5 + 10 = {}", –¥–æ–±–∞–≤–∏—Ç—å_5(10));
}
```

## üîÑ –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã

### –¢—Ä–µ–π—Ç Iterator
```rust
pub trait Iterator {
    type Item;
    
    fn next(&mut self) -> Option<Self::Item>;
    
    // –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –º–µ—Ç–æ–¥–æ–≤ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é...
}
```

### –°–æ–∑–¥–∞–Ω–∏–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤
```rust
let –≤–µ–∫—Ç–æ—Ä = vec![1, 2, 3];

// iter() - –Ω–µ–∏–∑–º–µ–Ω—è–µ–º—ã–µ —Å—Å—ã–ª–∫–∏
for –∑–Ω–∞—á–µ–Ω–∏–µ in –≤–µ–∫—Ç–æ—Ä.iter() {
    println!("{}", –∑–Ω–∞—á–µ–Ω–∏–µ);
}

// iter_mut() - –∏–∑–º–µ–Ω—è–µ–º—ã–µ —Å—Å—ã–ª–∫–∏
let mut –≤–µ–∫—Ç–æ—Ä = vec![1, 2, 3];
for –∑–Ω–∞—á–µ–Ω–∏–µ in –≤–µ–∫—Ç–æ—Ä.iter_mut() {
    *–∑–Ω–∞—á–µ–Ω–∏–µ *= 2;
}

// into_iter() - –∑–∞–±–∏—Ä–∞–µ—Ç –≤–ª–∞–¥–µ–Ω–∏–µ
let –≤–µ–∫—Ç–æ—Ä = vec![1, 2, 3];
for –∑–Ω–∞—á–µ–Ω–∏–µ in –≤–µ–∫—Ç–æ—Ä.into_iter() {
    println!("{}", –∑–Ω–∞—á–µ–Ω–∏–µ);
}
// –≤–µ–∫—Ç–æ—Ä –±–æ–ª—å—à–µ –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω
```

### –ú–µ—Ç–æ–¥—ã –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤
```rust
let —á–∏—Å–ª–∞ = vec![1, 2, 3, 4, 5];

// map - –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–æ–≤
let –∫–≤–∞–¥—Ä–∞—Ç—ã: Vec<i32> = —á–∏—Å–ª–∞.iter()
    .map(|x| x * x)
    .collect();

// filter - —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è
let —á—ë—Ç–Ω—ã–µ: Vec<&i32> = —á–∏—Å–ª–∞.iter()
    .filter(|x| *x % 2 == 0)
    .collect();

// fold - —Å–≤—ë—Ä—Ç–∫–∞ (–∞–Ω–∞–ª–æ–≥ reduce)
let —Å—É–º–º–∞ = —á–∏—Å–ª–∞.iter()
    .fold(0, |acc, x| acc + x);

// chain - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä–æ–≤
let –ø–µ—Ä–≤—ã–µ = vec![1, 2, 3];
let –≤—Ç–æ—Ä—ã–µ = vec![4, 5, 6];
let –≤—Å–µ: Vec<i32> = –ø–µ—Ä–≤—ã–µ.iter()
    .chain(–≤—Ç–æ—Ä—ã–µ.iter())
    .copied()
    .collect();

// zip - –æ–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ –≤ –ø–∞—Ä—ã
let —á–∏—Å–ª–∞ = vec![1, 2, 3];
let –±—É–∫–≤—ã = vec!['–∞', '–±', '–≤'];
let –ø–∞—Ä—ã: Vec<(i32, char)> = —á–∏—Å–ª–∞.iter()
    .copied()
    .zip(–±—É–∫–≤—ã.iter().copied())
    .collect();

// take –∏ skip
let –ø–µ—Ä–≤—ã–µ_—Ç—Ä–∏: Vec<i32> = (0..10)
    .take(3)
    .collect(); // [0, 1, 2]

let –±–µ–∑_–ø–µ—Ä–≤—ã—Ö_—Ç—Ä—ë—Ö: Vec<i32> = (0..10)
    .skip(3)
    .take(3)
    .collect(); // [3, 4, 5]

// any –∏ all
let –µ—Å—Ç—å_—á—ë—Ç–Ω—ã–µ = —á–∏—Å–ª–∞.iter().any(|x| x % 2 == 0);
let –≤—Å–µ_–ø–æ–ª–æ–∂–∏—Ç–µ–ª—å–Ω—ã–µ = —á–∏—Å–ª–∞.iter().all(|x| *x > 0);

// find
let –ø–µ—Ä–≤–æ–µ_—á—ë—Ç–Ω–æ–µ = —á–∏—Å–ª–∞.iter()
    .find(|x| *x % 2 == 0);

// partition - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –Ω–∞ –¥–≤–µ –∫–æ–ª–ª–µ–∫—Ü–∏–∏
let (—á—ë—Ç–Ω—ã–µ, –Ω–µ—á—ë—Ç–Ω—ã–µ): (Vec<i32>, Vec<i32>) = —á–∏—Å–ª–∞.into_iter()
    .partition(|x| x % 2 == 0);
```

## üéØ –°–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã

```rust
struct –°—á—ë—Ç—á–∏–∫ {
    —Å—á—ë—Ç: u32,
    –º–∞–∫—Å–∏–º—É–º: u32,
}

impl –°—á—ë—Ç—á–∏–∫ {
    fn –Ω–æ–≤—ã–π(–º–∞–∫—Å–∏–º—É–º: u32) -> –°—á—ë—Ç—á–∏–∫ {
        –°—á—ë—Ç—á–∏–∫ { —Å—á—ë—Ç: 0, –º–∞–∫—Å–∏–º—É–º }
    }
}

impl Iterator for –°—á—ë—Ç—á–∏–∫ {
    type Item = u32;
    
    fn next(&mut self) -> Option<Self::Item> {
        if self.—Å—á—ë—Ç < self.–º–∞–∫—Å–∏–º—É–º {
            self.—Å—á—ë—Ç += 1;
            Some(self.—Å—á—ë—Ç)
        } else {
            None
        }
    }
}

// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
let —Å—á—ë—Ç—á–∏–∫ = –°—á—ë—Ç—á–∏–∫::–Ω–æ–≤—ã–π(5);
let —á–∏—Å–ª–∞: Vec<u32> = —Å—á—ë—Ç—á–∏–∫.collect();
assert_eq!(—á–∏—Å–ª–∞, vec![1, 2, 3, 4, 5]);

// –§–∏–±–æ–Ω–∞—á—á–∏ –∏—Ç–µ—Ä–∞—Ç–æ—Ä
struct –§–∏–±–æ–Ω–∞—á—á–∏ {
    —Ç–µ–∫—É—â–∏–π: u64,
    —Å–ª–µ–¥—É—é—â–∏–π: u64,
}

impl –§–∏–±–æ–Ω–∞—á—á–∏ {
    fn –Ω–æ–≤—ã–π() -> Self {
        –§–∏–±–æ–Ω–∞—á—á–∏ { —Ç–µ–∫—É—â–∏–π: 0, —Å–ª–µ–¥—É—é—â–∏–π: 1 }
    }
}

impl Iterator for –§–∏–±–æ–Ω–∞—á—á–∏ {
    type Item = u64;
    
    fn next(&mut self) -> Option<Self::Item> {
        let —Ç–µ–∫—É—â–∏–π = self.—Ç–µ–∫—É—â–∏–π;
        self.—Ç–µ–∫—É—â–∏–π = self.—Å–ª–µ–¥—É—é—â–∏–π;
        self.—Å–ª–µ–¥—É—é—â–∏–π = —Ç–µ–∫—É—â–∏–π + self.—Å–ª–µ–¥—É—é—â–∏–π;
        Some(—Ç–µ–∫—É—â–∏–π)
    }
}

// –ü–µ—Ä–≤—ã–µ 10 —á–∏—Å–µ–ª –§–∏–±–æ–Ω–∞—á—á–∏
let —Ñ–∏–±: Vec<u64> = –§–∏–±–æ–Ω–∞—á—á–∏::–Ω–æ–≤—ã–π()
    .take(10)
    .collect();
```

## üíª –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ç–µ–∫—Å—Ç–∞
```rust
fn –∞–Ω–∞–ª–∏–∑_—Ç–µ–∫—Å—Ç–∞(—Ç–µ–∫—Å—Ç: &str) {
    // –ü–æ–¥—Å—á—ë—Ç —Å–ª–æ–≤
    let –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_—Å–ª–æ–≤ = —Ç–µ–∫—Å—Ç.split_whitespace().count();
    
    // –°–∞–º–æ–µ –¥–ª–∏–Ω–Ω–æ–µ —Å–ª–æ–≤–æ
    let —Å–∞–º–æ–µ_–¥–ª–∏–Ω–Ω–æ–µ = —Ç–µ–∫—Å—Ç
        .split_whitespace()
        .max_by_key(|—Å–ª–æ–≤–æ| —Å–ª–æ–≤–æ.len())
        .unwrap_or("");
    
    // –ß–∞—Å—Ç–æ—Ç–∞ —Å–∏–º–≤–æ–ª–æ–≤
    let mut —á–∞—Å—Ç–æ—Ç–∞ = std::collections::HashMap::new();
    —Ç–µ–∫—Å—Ç.chars()
        .filter(|c| c.is_alphabetic())
        .map(|c| c.to_lowercase().to_string())
        .for_each(|c| {
            *—á–∞—Å—Ç–æ—Ç–∞.entry(c).or_insert(0) += 1;
        });
    
    // –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ —Å–ª–æ–≤–∞
    let —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ: std::collections::HashSet<_> = —Ç–µ–∫—Å—Ç
        .split_whitespace()
        .map(|s| s.to_lowercase())
        .collect();
    
    println!("–°–ª–æ–≤: {}", –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ_—Å–ª–æ–≤);
    println!("–°–∞–º–æ–µ –¥–ª–∏–Ω–Ω–æ–µ: {}", —Å–∞–º–æ–µ_–¥–ª–∏–Ω–Ω–æ–µ);
    println!("–£–Ω–∏–∫–∞–ª—å–Ω—ã—Ö —Å–ª–æ–≤: {}", —É–Ω–∏–∫–∞–ª—å–Ω—ã–µ.len());
}
```

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö
```rust
#[derive(Debug, Clone)]
struct –ü—Ä–æ–¥—É–∫—Ç {
    –Ω–∞–∑–≤–∞–Ω–∏–µ: String,
    —Ü–µ–Ω–∞: f64,
    –∫–∞—Ç–µ–≥–æ—Ä–∏—è: String,
    –≤_–Ω–∞–ª–∏—á–∏–∏: bool,
}

fn –∞–Ω–∞–ª–∏–∑_–ø—Ä–æ–¥—É–∫—Ç–æ–≤(–ø—Ä–æ–¥—É–∫—Ç—ã: Vec<–ü—Ä–æ–¥—É–∫—Ç>) {
    // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞
    let –¥–æ—Å—Ç—É–ø–Ω—ã–µ: Vec<_> = –ø—Ä–æ–¥—É–∫—Ç—ã
        .iter()
        .filter(|–ø| –ø.–≤_–Ω–∞–ª–∏—á–∏–∏)
        .filter(|–ø| –ø.—Ü–µ–Ω–∞ < 100.0)
        .cloned()
        .collect();
    
    // –ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
    let mut –ø–æ_–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º = std::collections::HashMap::new();
    –ø—Ä–æ–¥—É–∫—Ç—ã.iter()
        .for_each(|–ø| {
            –ø–æ_–∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
                .entry(–ø.–∫–∞—Ç–µ–≥–æ—Ä–∏—è.clone())
                .or_insert_with(Vec::new)
                .push(–ø.clone());
        });
    
    // –°—Ä–µ–¥–Ω—è—è —Ü–µ–Ω–∞
    let —Å—Ä–µ–¥–Ω—è—è_—Ü–µ–Ω–∞: f64 = –ø—Ä–æ–¥—É–∫—Ç—ã
        .iter()
        .map(|–ø| –ø.—Ü–µ–Ω–∞)
        .sum::<f64>() / –ø—Ä–æ–¥—É–∫—Ç—ã.len() as f64;
    
    // –°–∞–º—ã–π –¥–æ—Ä–æ–≥–æ–π –ø—Ä–æ–¥—É–∫—Ç
    let —Å–∞–º—ã–π_–¥–æ—Ä–æ–≥–æ–π = –ø—Ä–æ–¥—É–∫—Ç—ã
        .iter()
        .max_by(|a, b| a.—Ü–µ–Ω–∞.partial_cmp(&b.—Ü–µ–Ω–∞).unwrap())
        .map(|–ø| –ø.–Ω–∞–∑–≤–∞–Ω–∏–µ.clone());
    
    // –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –≤ –¥—Ä—É–≥—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É
    let –∏–º–µ–Ω–∞_–∏_—Ü–µ–Ω—ã: Vec<(String, f64)> = –ø—Ä–æ–¥—É–∫—Ç—ã
        .into_iter()
        .map(|–ø| (–ø.–Ω–∞–∑–≤–∞–Ω–∏–µ, –ø.—Ü–µ–Ω–∞))
        .collect();
}
```

### –õ–µ–Ω–∏–≤—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è
```rust
// –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã –ª–µ–Ω–∏–≤—ã–µ - –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏
fn –ø—Ä–∏–º–µ—Ä_–ª–µ–Ω–∏–≤–æ—Å—Ç–∏() {
    let –≤–µ–∫—Ç–æ—Ä = vec![1, 2, 3, 4, 5];
    
    // –ù–∏—á–µ–≥–æ –Ω–µ –≤—ã—á–∏—Å–ª—è–µ—Ç—Å—è
    let –∏—Ç–µ—Ä–∞—Ç–æ—Ä = –≤–µ–∫—Ç–æ—Ä.iter()
        .map(|x| {
            println!("–û–±—Ä–∞–±–æ—Ç–∫–∞ {}", x);
            x * 2
        });
    
    println!("–ò—Ç–µ—Ä–∞—Ç–æ—Ä —Å–æ–∑–¥–∞–Ω");
    
    // –í—ã—á–∏—Å–ª–µ–Ω–∏—è –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç –∑–¥–µ—Å—å
    let —Ä–µ–∑—É–ª—å—Ç–∞—Ç: Vec<i32> = –∏—Ç–µ—Ä–∞—Ç–æ—Ä.collect();
    
    // –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π –∏—Ç–µ—Ä–∞—Ç–æ—Ä
    let –ø–µ—Ä–≤—ã–µ_10_–∫–≤–∞–¥—Ä–∞—Ç–æ–≤: Vec<u32> = (1..)
        .map(|x| x * x)
        .take(10)
        .collect();
}
```

## üéØ –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

```rust
use std::time::Instant;

fn —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ_–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏() {
    let —á–∏—Å–ª–∞: Vec<i32> = (0..1_000_000).collect();
    
    // –ò–º–ø–µ—Ä–∞—Ç–∏–≤–Ω—ã–π —Å—Ç–∏–ª—å
    let –Ω–∞—á–∞–ª–æ = Instant::now();
    let mut —Å—É–º–º–∞ = 0;
    for &—á–∏—Å–ª–æ in &—á–∏—Å–ª–∞ {
        if —á–∏—Å–ª–æ % 2 == 0 {
            —Å—É–º–º–∞ += —á–∏—Å–ª–æ * 2;
        }
    }
    println!("–¶–∏–∫–ª: {:?}", –Ω–∞—á–∞–ª–æ.elapsed());
    
    // –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π —Å—Ç–∏–ª—å
    let –Ω–∞—á–∞–ª–æ = Instant::now();
    let —Å—É–º–º–∞: i32 = —á–∏—Å–ª–∞
        .iter()
        .filter(|&&x| x % 2 == 0)
        .map(|&x| x * 2)
        .sum();
    println!("–ò—Ç–µ—Ä–∞—Ç–æ—Ä: {:?}", –Ω–∞—á–∞–ª–æ.elapsed());
    
    // –ò—Ç–µ—Ä–∞—Ç–æ—Ä—ã —á–∞—Å—Ç–æ –±—ã—Å—Ç—Ä–µ–µ –±–ª–∞–≥–æ–¥–∞—Ä—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º –∫–æ–º–ø–∏–ª—è—Ç–æ—Ä–∞!
}
```

## üéØ –£–ø—Ä–∞–∂–Ω–µ–Ω–∏—è

1. **–†–µ–∞–ª–∏–∑—É–π—Ç–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä –ø—Ä–æ—Å—Ç—ã—Ö —á–∏—Å–µ–ª**:
   - –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –ø—Ä–æ—Å—Ç—ã–µ —á–∏—Å–ª–∞
   - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ä–µ—à–µ—Ç–æ –≠—Ä–∞—Ç–æ—Å—Ñ–µ–Ω–∞
   - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç take(n)

2. **–û–±—Ä–∞–±–æ—Ç–∫–∞ CSV —Ñ–∞–π–ª–∞**:
   - –ü–∞—Ä—Å–∏–Ω–≥ —Å—Ç—Ä–æ–∫
   - –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ —É—Å–ª–æ–≤–∏—è–º
   - –ê–≥—Ä–µ–≥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

3. **–ö–æ–Ω–≤–µ–π–µ—Ä –æ–±—Ä–∞–±–æ—Ç–∫–∏ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π**:
   - –¶–µ–ø–æ—á–∫–∞ —Ñ–∏–ª—å—Ç—Ä–æ–≤
   - –õ–µ–Ω–∏–≤–æ–µ –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ
   - –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞

## üí° –õ—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏

1. **–ü—Ä–µ–¥–ø–æ—á–∏—Ç–∞–π—Ç–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã —Ü–∏–∫–ª–∞–º** –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–π
2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ collect()** —Å —É–∫–∞–∑–∞–Ω–∏–µ–º —Ç–∏–ø–∞: `collect::<Vec<_>>()`
3. **–ü–æ–º–Ω–∏—Ç–µ –æ –ª–µ–Ω–∏–≤–æ—Å—Ç–∏** - –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã –Ω–µ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è –¥–æ –≤—ã–∑–æ–≤–∞ —Ç–µ—Ä–º–∏–Ω–∞–ª—å–Ω–æ–≥–æ –º–µ—Ç–æ–¥–∞
4. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ iter()** –¥–ª—è –∑–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–∏—è, **into_iter()** –¥–ª—è –≤–ª–∞–¥–µ–Ω–∏—è
5. **–¶–µ–ø–æ—á–∫–∏ –º–µ—Ç–æ–¥–æ–≤** –¥–µ–ª–∞—é—Ç –∫–æ–¥ —á–∏—Ç–∞–µ–º—ã–º –∏ —ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω—ã–º

## üìä –®–ø–∞—Ä–≥–∞–ª–∫–∞ –º–µ—Ç–æ–¥–æ–≤

| –ú–µ—Ç–æ–¥ | –û–ø–∏—Å–∞–Ω–∏–µ | –ü—Ä–∏–º–µ—Ä |
|-------|----------|--------|
| `map` | –ü—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ | `.map(\|x\| x * 2)` |
| `filter` | –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è | `.filter(\|x\| x > 0)` |
| `fold` | –°–≤—ë—Ä—Ç–∫–∞ | `.fold(0, \|acc, x\| acc + x)` |
| `collect` | –°–±–æ—Ä –≤ –∫–æ–ª–ª–µ–∫—Ü–∏—é | `.collect::<Vec<_>>()` |
| `any` | –•–æ—Ç—è –±—ã –æ–¥–∏–Ω | `.any(\|x\| x > 10)` |
| `all` | –í—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã | `.all(\|x\| x > 0)` |
| `find` | –ù–∞–π—Ç–∏ –ø–µ—Ä–≤—ã–π | `.find(\|x\| x % 2 == 0)` |
| `take` | –í–∑—è—Ç—å N –ø–µ—Ä–≤—ã—Ö | `.take(5)` |
| `skip` | –ü—Ä–æ–ø—É—Å—Ç–∏—Ç—å N | `.skip(3)` |
| `zip` | –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –≤ –ø–∞—Ä—ã | `.zip(other)` |
| `chain` | –û–±—ä–µ–¥–∏–Ω–∏—Ç—å –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã | `.chain(other)` |
| `enumerate` | –î–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å—ã | `.enumerate()` |
| `rev` | –†–∞–∑–≤–µ—Ä–Ω—É—Ç—å | `.rev()` |
| `sum` | –°—É–º–º–∞ | `.sum::<i32>()` |
| `product` | –ü—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ | `.product::<i32>()` |
| `min/max` | –ú–∏–Ω–∏–º—É–º/–º–∞–∫—Å–∏–º—É–º | `.max()` |

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã

- [[08_–¢—Ä–µ–π—Ç—ã/00_–ò–Ω–¥–µ–∫—Å|Iterator trait]]
- [[06_–ö–æ–ª–ª–µ–∫—Ü–∏–∏/00_–ò–Ω–¥–µ–∫—Å|–ö–æ–ª–ª–µ–∫—Ü–∏–∏]]
- [[13_–ú–Ω–æ–≥–æ–ø–æ—Ç–æ—á–Ω–æ—Å—Ç—å/04_–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ_–∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã|–ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã–µ –∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã (Rayon)]]

---
#rust #–∏—Ç–µ—Ä–∞—Ç–æ—Ä—ã #–∑–∞–º—ã–∫–∞–Ω–∏—è #—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ_–ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏–µ #closures #iterators

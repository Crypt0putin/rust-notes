# üìú –ü—Ä–∞–≤–∏–ª–∞ –≤–ª–∞–¥–µ–Ω–∏—è –≤ Rust

–°–∏—Å—Ç–µ–º–∞ –≤–ª–∞–¥–µ–Ω–∏—è –≤ Rust –æ—Å–Ω–æ–≤–∞–Ω–∞ –Ω–∞ —Ç—Ä—ë—Ö —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω—ã—Ö –ø—Ä–∞–≤–∏–ª–∞—Ö.

## üéØ –¢—Ä–∏ –ø—Ä–∞–≤–∏–ª–∞ –≤–ª–∞–¥–µ–Ω–∏—è

### 1Ô∏è‚É£ –ü—Ä–∞–≤–∏–ª–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–∞
**–ö–∞–∂–¥–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ –≤ Rust –∏–º–µ–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é, –∫–æ—Ç–æ—Ä–∞—è —è–≤–ª—è–µ—Ç—Å—è –µ–≥–æ –≤–ª–∞–¥–µ–ª—å—Ü–µ–º**

```rust
let s = String::from("hello"); // s —è–≤–ª—è–µ—Ç—Å—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–º —Å—Ç—Ä–æ–∫–∏
```

### 2Ô∏è‚É£ –ü—Ä–∞–≤–∏–ª–æ –µ–¥–∏–Ω—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏
**–í –∫–∞–∂–¥—ã–π –º–æ–º–µ–Ω—Ç –≤—Ä–µ–º–µ–Ω–∏ –º–æ–∂–µ—Ç –±—ã—Ç—å —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω –≤–ª–∞–¥–µ–ª–µ—Ü**

```rust
let s1 = String::from("hello");
let s2 = s1; // –í–ª–∞–¥–µ–Ω–∏–µ –ø–µ—Ä–µ–¥–∞–ª–æ—Å—å s2, s1 –±–æ–ª—å—à–µ –Ω–µ –≤–∞–ª–∏–¥–Ω–∞!
// println!("{}", s1); // –û—à–∏–±–∫–∞ –∫–æ–º–ø–∏–ª—è—Ü–∏–∏!
```

### 3Ô∏è‚É£ –ü—Ä–∞–≤–∏–ª–æ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏
**–ö–æ–≥–¥–∞ –≤–ª–∞–¥–µ–ª–µ—Ü –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏, –∑–Ω–∞—á–µ–Ω–∏–µ —É–¥–∞–ª—è–µ—Ç—Å—è**

```rust
{
    let s = String::from("hello"); // s –≤—Ö–æ–¥–∏—Ç –≤ –æ–±–ª–∞—Å—Ç—å –≤–∏–¥–∏–º–æ—Å—Ç–∏
    // –∑–¥–µ—Å—å s –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å
} // s –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –∏ –ø–∞–º—è—Ç—å –æ—Å–≤–æ–±–æ–∂–¥–∞–µ—Ç—Å—è
```

## üí° –ü—Ä–∞–∫—Ç–∏—á–µ—Å–∫–∏–µ –ø—Ä–∏–º–µ—Ä—ã

### –ü—Ä–∏–º–µ—Ä —Å —Ñ—É–Ω–∫—Ü–∏—è–º–∏
```rust
fn main() {
    let s = String::from("hello");
    takes_ownership(s); // s –ø–µ—Ä–µ–º–µ—â–∞–µ—Ç—Å—è –≤ —Ñ—É–Ω–∫—Ü–∏—é
    // println!("{}", s); // –û—à–∏–±–∫–∞! s –±–æ–ª—å—à–µ –Ω–µ –≤–∞–ª–∏–¥–Ω–∞
    
    let x = 5;
    makes_copy(x); // x –∫–æ–ø–∏—Ä—É–µ—Ç—Å—è, –æ—Å—Ç–∞—ë—Ç—Å—è –≤–∞–ª–∏–¥–Ω–æ–π
    println!("{}", x); // OK! x –≤—Å—ë –µ—â—ë –¥–æ—Å—Ç—É–ø–Ω–∞
}

fn takes_ownership(some_string: String) {
    println!("{}", some_string);
} // some_string –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏ –∏ —É–¥–∞–ª—è–µ—Ç—Å—è

fn makes_copy(some_integer: i32) {
    println!("{}", some_integer);
} // some_integer –≤—ã—Ö–æ–¥–∏—Ç –∏–∑ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏, –Ω–æ i32 –∏–º–µ–µ—Ç Copy
```

### –í–æ–∑–≤—Ä–∞—Ç –≤–ª–∞–¥–µ–Ω–∏—è
```rust
fn gives_ownership() -> String {
    let some_string = String::from("hello");
    some_string // –≤–ª–∞–¥–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –≤—ã–∑—ã–≤–∞—é—â–µ–π —Ñ—É–Ω–∫—Ü–∏–∏
}

fn takes_and_gives_back(a_string: String) -> String {
    a_string // –≤–ª–∞–¥–µ–Ω–∏–µ –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è
}
```

## üö® –ß–∞—Å—Ç—ã–µ –æ—à–∏–±–∫–∏

### Use after move
```rust
let s1 = String::from("hello");
let s2 = s1;
println!("{}", s1); // ‚ùå –û—à–∏–±–∫–∞: s1 –±—ã–ª–∞ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∞!
```

### Double free
```rust
// –í –¥—Ä—É–≥–∏—Ö —è–∑—ã–∫–∞—Ö —ç—Ç–æ –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –¥–≤–æ–π–Ω–æ–º—É –æ—Å–≤–æ–±–æ–∂–¥–µ–Ω–∏—é –ø–∞–º—è—Ç–∏
// Rust –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —ç—Ç–æ —á–µ—Ä–µ–∑ —Å–∏—Å—Ç–µ–º—É –≤–ª–∞–¥–µ–Ω–∏—è
```

## üîß –†–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º

### –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
```rust
let s1 = String::from("hello");
let s2 = s1.clone(); // –°–æ–∑–¥–∞—ë–º –∫–æ–ø–∏—é
println!("{} {}", s1, s2); // ‚úÖ OK!
```

### –ó–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–∏–µ
```rust
let s1 = String::from("hello");
let len = calculate_length(&s1); // –ü–µ—Ä–µ–¥–∞—ë–º —Å—Å—ã–ª–∫—É
println!("Length of '{}' is {}", s1, len); // ‚úÖ s1 –≤—Å—ë –µ—â—ë –¥–æ—Å—Ç—É–ø–Ω–∞
```

## üîó –°–≤—è–∑–∞–Ω–Ω—ã–µ —Ç–µ–º—ã
- [[Move-Semantics]] - –î–µ—Ç–∞–ª–∏ —Å–µ–º–∞–Ω—Ç–∏–∫–∏ –ø–µ—Ä–µ–º–µ—â–µ–Ω–∏—è
- [[Borrowing]] - –ó–∞–∏–º—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö
- [[Copy-Trait]] - –¢—Ä–µ–π—Ç Copy –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Ç–∏–ø–æ–≤

## üß† –ö–ª—é—á–µ–≤—ã–µ –º–æ–º–µ–Ω—Ç—ã –¥–ª—è –∑–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è
- **Stack vs Heap**: –ø—Ä–æ—Å—Ç—ã–µ —Ç–∏–ø—ã (i32, bool) –∫–æ–ø–∏—Ä—É—é—Ç—Å—è, —Å–ª–æ–∂–Ω—ã–µ (String, Vec) –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è
- **Move –Ω–µ —Ä–∞–≤–Ω–æ Copy**: –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ —Ç–∏–ø–æ–≤ –ø–µ—Ä–µ–º–µ—â–∞—é—Ç—Å—è, –∞ –Ω–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è
- **–ö–æ–º–ø–∏–ª—è—Ç–æ—Ä –ø–æ–º–æ–≥–∞–µ—Ç**: –æ–Ω –Ω–µ –¥–∞—Å—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–µ–¥–æ—Å—Ç—É–ø–Ω—ã–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ

#ownership-rules #memory-safety #core-concept #beginner